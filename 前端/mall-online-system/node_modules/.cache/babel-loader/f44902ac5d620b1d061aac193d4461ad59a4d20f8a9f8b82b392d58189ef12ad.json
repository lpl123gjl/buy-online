{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport NavMenu from '@/components/NavMenu.vue';\nimport Tabs from '@/components/Tabs.vue';\nexport default {\n  data() {\n    return {\n      user: {\n        username: 'Byterain',\n        avatar: \"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png\"\n      }\n    };\n  },\n  components: {\n    NavMenu,\n    Tabs\n  },\n  created() {\n    this.getUserInfo();\n  },\n  methods: {\n    getUserInfo() {\n      //请求服务器获得\n      this.$axios.get('/api/userinfo').then(response => {\n        this.user = response.data.resultdata;\n        if (!this.$getSessionStorage('user')) {\n          this.$setSessionStorage('user', response.data.resultdata.business);\n        }\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    setPwd() {\n      this.$router.push('/setpwd');\n    },\n    logout() {\n      this.$axios.get('/logout').then(response => {\n        this.$store.commit('SET_TOKEN', '');\n        this.$store.commit('SET_MENULIST', []);\n        this.$store.commit('SET_PERMLIST', []);\n        this.$store.commit('SET_HASROUTE', false);\n        this.$store.commit('RESET_TABS');\n        sessionStorage.clear();\n        localStorage.clear();\n        this.$router.push('/login');\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["NavMenu","Tabs","data","user","username","avatar","components","created","getUserInfo","methods","$axios","get","then","response","resultdata","$getSessionStorage","$setSessionStorage","business","catch","e","console","log","setPwd","$router","push","logout","$store","commit","sessionStorage","clear","localStorage","error"],"sources":["src/views/Home.vue"],"sourcesContent":["<template>\r\n  <el-container>\r\n    <el-aside width=\"200px\">\r\n      <NavMenu></NavMenu>\r\n    </el-aside>\r\n    <el-container>\r\n      <el-header>\r\n        <strong>智慧社区后台管理系统V1.0.0</strong>\r\n        <div class=\"header-userinfo\">\r\n          <el-avatar size=\"medium\" :src=\"user.avatar\"></el-avatar>\r\n          <el-dropdown>\r\n            <span class=\"el-dropdown-link\">\r\n              {{ user.username }}<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n            </span>\r\n            <el-dropdown-menu slot=\"dropdown\">\r\n              <el-dropdown-item>个人中心</el-dropdown-item>\r\n              <el-dropdown-item @click.native=\"setPwd\">修改密码</el-dropdown-item>\r\n              <el-dropdown-item divided @click.native=\"logout\">退出系统</el-dropdown-item>\r\n            </el-dropdown-menu>\r\n          </el-dropdown>\r\n        </div>\r\n      </el-header>\r\n      <el-main>\r\n        <Tabs></Tabs>\r\n        <router-view></router-view>\r\n      </el-main>\r\n    </el-container>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport NavMenu from '@/components/NavMenu.vue'\r\nimport Tabs from '@/components/Tabs.vue';\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: {\r\n        username: 'Byterain',\r\n        avatar: \"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png\",\r\n      },\r\n    }\r\n  },\r\n  components: {\r\n    NavMenu,\r\n    Tabs\r\n  },\r\n  created(){\r\n    this.getUserInfo();\r\n  },\r\n  methods: {\r\n    getUserInfo(){\r\n        //请求服务器获得\r\n        this.$axios.get('/api/userinfo').then(response=>{\r\n            this.user = response.data.resultdata\r\n            if(!this.$getSessionStorage('user')){\r\n              this.$setSessionStorage('user',response.data.resultdata.business)\r\n            }\r\n        }).catch(e=>{\r\n            console.log(e);\r\n        })\r\n       },\r\n     \r\n    setPwd(){\r\n      this.$router.push('/setpwd');\r\n    },\r\n    logout(){\r\n      this.$axios.get('/logout').then((response)=>{\r\n        this.$store.commit('SET_TOKEN','');\r\n        this.$store.commit('SET_MENULIST',[]);\r\n        this.$store.commit('SET_PERMLIST',[]);\r\n        this.$store.commit('SET_HASROUTE',false);\r\n        this.$store.commit('RESET_TABS');\r\n        sessionStorage.clear();\r\n        localStorage.clear();\r\n\r\n        this.$router.push('/login');\r\n      }).catch((error)=>{\r\n        console.log(error)\r\n      })\r\n    },\r\n  },\r\n}\r\n\r\n</script>\r\n<style scoped>\r\n.el-container {\r\n  padding: 0;\r\n  margin: 0;\r\n  height: 100%;\r\n}\r\n\r\n.el-aside {\r\n  background-color: #efefef;\r\n}\r\n\r\n.el-header {\r\n  background-image: linear-gradient(-225deg, #a1f6ff 0%, #98faff89 48%, #61ddffc2 100%);\r\n  color: #292929;\r\n  text-align: left;\r\n  font-size: 16px;\r\n  line-height:\r\n    60px;\r\n}\r\n.el-dropdown-link{\r\n  color: #363636;\r\n}\r\n\r\n.header-userinfo {\r\n  float: right;\r\n  width: 150px;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n}\r\n\r\n.el-main {\r\n  color: #333;\r\n  padding: 0;\r\n}\r\n\r\n.el-avatar {\r\n  margin-right: 5px;\r\n}\r\n</style>"],"mappings":";AA+BA,OAAAA,OAAA;AACA,OAAAC,IAAA;AACA;EACAC,KAAA;IACA;MACAC,IAAA;QACAC,QAAA;QACAC,MAAA;MACA;IACA;EACA;EACAC,UAAA;IACAN,OAAA;IACAC;EACA;EACAM,QAAA;IACA,KAAAC,WAAA;EACA;EACAC,OAAA;IACAD,YAAA;MACA;MACA,KAAAE,MAAA,CAAAC,GAAA,kBAAAC,IAAA,CAAAC,QAAA;QACA,KAAAV,IAAA,GAAAU,QAAA,CAAAX,IAAA,CAAAY,UAAA;QACA,UAAAC,kBAAA;UACA,KAAAC,kBAAA,SAAAH,QAAA,CAAAX,IAAA,CAAAY,UAAA,CAAAG,QAAA;QACA;MACA,GAAAC,KAAA,CAAAC,CAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,CAAA;MACA;IACA;IAEAG,OAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;IACAC,OAAA;MACA,KAAAf,MAAA,CAAAC,GAAA,YAAAC,IAAA,CAAAC,QAAA;QACA,KAAAa,MAAA,CAAAC,MAAA;QACA,KAAAD,MAAA,CAAAC,MAAA;QACA,KAAAD,MAAA,CAAAC,MAAA;QACA,KAAAD,MAAA,CAAAC,MAAA;QACA,KAAAD,MAAA,CAAAC,MAAA;QACAC,cAAA,CAAAC,KAAA;QACAC,YAAA,CAAAD,KAAA;QAEA,KAAAN,OAAA,CAAAC,IAAA;MACA,GAAAN,KAAA,CAAAa,KAAA;QACAX,OAAA,CAAAC,GAAA,CAAAU,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}